<!DOCTYPE html>
<html lang="da"> 
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <title>Udviklings- og designguide - SKAT</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
		<meta name="msapplication-tap-highlight" content="no"/>
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
		<link href="sktscommon/css/skat.min.css" rel="stylesheet">
		<link href="assets/css/guide.css" rel="stylesheet" type="text/css" />
    </head>
	<body data-spy="scroll">
		<div class="skts-wrap">	
			<header class="container-fluid header-show">
                <div class="row">
                    <div class="col-xs-3 text-center skts-bg-main-1">
                        <div class="skts-header-item">
                            <button type="button" class="skts-menu-button js-create-nav-modal" data-toggle="modal" data-target="#sktsNavModal" data-nav-link-selector="#sktsTopNavLinks">
                                <span class="sr-only">Vis/skjul navigation</span>
                                <span class="skts-icon-bar"></span>
                                <span class="skts-icon-bar"></span>
                                <span class="skts-icon-bar"></span>
                            </button>
                            <div class="navbar-collapse hidden" id="sktsTopNavLinks">
                                 <ul>
                                    <li><a href="index.html">Forside</a></li>
									<li><a href="design.html">Design</a></li>
		                            <li><a href="udvikling.html" class="active">Udvikling</a></li>
		                            <li><a href="brugeroplevelser.html">Brugeroplevelser</a></li>
		                            <li><a href="krav.html">Non funktionelle krav</a></li>
		                            <li><a href="changelog.html">Changelog</a></li>
		                            <li><a href="kontakt.html">Kontakt</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6 text-center skts-bg-main-2">
                        <div class="skts-header-item skts-header-item--logo">
                            <a class="skts-logo-responsive" href="index.html">
                                <span class="sr-only">Gå til forside</span>
                            </a>
                        </div>
                    </div>
                    <div class="col-xs-3 text-center skts-bg-main-4">
                        <div class="skts-header-item">
                            <a href="index.html">UDG</a>
                        </div>
                    </div>
                </div>
            </header>
			<div class="skts-breadcrumb-container">
                <ol class="breadcrumb container">
                    <li><a href="index.html">Forside</a></li>
                    <li><a href="udvikling.html">Udvikling</a></li>
                </ol>
            </div>
			<div class="container skts-top-pad-1">
				<div class="row">
					<div class="col-md-8" id="mainContent">
						<h1 class="h1--guide" id="subMethods">Framework udvikling</h1>
						<p>Siderne bygges ud fra bootstraps <a href="http://getbootstrap.com/components/" target="_blank">metoder</a>.</p>
						<p>Udover bootstraps metoder er der tilføjet diverse custom elementer, som beskrives i denne guide.</p>
						<p>Prototyper med elementerne fra denne guide kan ses <a href="../Prototypes/" target="_blank">her</a>.</p>
						<hr/>
						<h2 class="h2--guide" id="subHeader">Elementer i head.</h2>	
						<p>Følgende elementer tilføjes til <code>head</code>.</p>
						<p>Viewport defineres med de rigtige attributter:</p>
<pre class="prettyprint linenums">&lt;meta&nbsp;name=&quot;viewport&quot;&nbsp;content=&quot;width=device-width,&nbsp;initial-scale=1,&nbsp;user-scalable=yes&quot;/&gt;</pre>		
						<p>Fjernelse af tap-highlight i windows phone 7:</p>
<pre class="prettyprint linenums">&lt;meta&nbsp;name=&quot;msapplication-tap-highlight&quot;&nbsp;content=&quot;no&quot;&nbsp;/&gt;</pre>
						<p>Link til ikonet i urlen og hvis sitet tilføjes til mobile: (<a href="http://css-tricks.com/favicon-quiz/" target="_blank">skal opdateres</a>)</p>
<pre class="prettyprint linenums">&lt;link&nbsp;rel=&quot;shortcut icon&quot;&nbsp;href=&quot;favicon.ico&quot;&nbsp;type=&quot;image/x-icon&quot;&nbsp;/&gt;</pre>
						<hr/>
						<h2 class="h2--guide" id="subCss">CSS</h2>
						<p>CSS filen <em>skat.min.css</em> er en komplieret og komprimeret fil bygget fra <a href="http://lesscss.org/" target="_blank">less</a> filer.</p>
<pre class="prettyprint linenums">&lt;link&nbsp;href=&quot;css/skat.min.css&quot;&nbsp;rel=&quot;stylesheet&quot;&nbsp;/&gt;</pre>
						<p>Den færdigbyggede fil indeholder less filer fra <a href="http://getbootstrap.com/css/" target="_blank">bootstrap</a>, samt brugerdefineret less filer.</p>
						<p>Når en bootstrap klasse/metode overstyres, placeres koden i den tilsvarende less fil (fx <em>buttons.less</em> overstyres med <em>buttons-skts.less</em> filen).</p>
						<p>Bootstraps less filer må aldrig overskrives direkte.</p>
						<p>Der er defineret 4 skærm størrelser:</p>
						<ul>
							<li>xs - til de mindste skærme (telefoner)</li>
							<li>sm - til de små skærme (nogle tablets i lodret position)</li>
							<li>md - til mellem skærmene (tablets)</li>
							<li>lg - til de store skærme (desktop)</li>
						</ul>						
						<p>Følgende filer er tilføjet til bootstrap:</p>
						<ul>
							<li><em>bootstrap-skts.less</em>
								<ul>
									<li>Erstatter "bootstrap.less" filen (som er fjernet). Filen indeholder <code>@import</code> listen.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/alerts-skts.less</em>
								<ul>
									<li>Overstyrer elementer i <code>.alert</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/breadcrumbs-skts.less</em>
								<ul>
									<li>Overstyrer elementer i <code>.breadcrumb</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/buttons-skts.less</em>
								<ul>
									<li>Overstyrer <code>.btn</code>, <code>.btn-default</code>, <code>.btn-primary</code>, <code>.btn-info</code> og <code>.btn</code> i <code>.text-right</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/forms-skts.less</em>
								<ul>
									<li>Overstyrer <code>label</code>, <code>input type=checkbox, radio</code> og <code>.has-error</code>. Tilføjet <code>.has-info</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/list-group-skts.less</em>
								<ul>
									<li>Overstyrer <code>.list-group-item</code> elementet.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/mixins-skts.less</em>
								<ul>
									<li>Overstyrer <code>.responsive-visibility()</code>, <code>.make-grid-columns()</code> og <code>.form-control-validation()</code> funktionerne.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/modals-skts.less</em>
								<ul>
									<li>Overstyrer <code>.btn.btn-primar</code> i en <code>.modal-dialog</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/navbar-skts.less</em>
								<ul>
									<li>Overstyrer <code>.navbar</code>, <code>.navbar-collapse</code>, <code>.navbar-toggle</code>, <code>.navbar-default</code> og elementer i <code>.navbar-nav</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/navs-skts.less</em>			
								<ul>
									<li>Overstyrer <code>.nav-tabs</code> og elementer i <code>.nav-tabs</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/panels-skts.less</em>			
								<ul>
									<li>Overstyrer <code>.panel-body</code>, <code>.panel-heading</code>, <code>.panel</code> og elementer i <code>.panel</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/print-skts.less</em>
								<ul>
									<li>Viser/skjuler dvs. elementer, justerer padding/margin, slukker for borders.</li>
								</ul>
							</li>	
							<li><em>custom_bootstrap/scaffolding-skts.less</em>
								<ul>
									<li>Overstyrer <code>a</code>, <code>select</code> og <code>outline</code> på dvs. elementer.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/table-skts.less</em>
								<ul>
									<li>Overstyrer <code>.table-responsive</code>.</li>
								</ul>
							</li>
							
							<li><em>custom_bootstrap/type-skts.less</em>
								<ul>
									<li>Overstyrer <code>abbr</code>, <code>address</code> <code>p</code>, <code>header</code>, <code>footer</code>, elementer i <code>.dl-horizontal</code> og <code>.text-right</code>.</li>
								</ul>
							</li>
							<li><em>custom_bootstrap/variables-skts.less</em>
								<ul>
									<li>Overstyrer dvs. bootstrap variabler.</li>
								</ul>
							</li>
							<li><em>custom/skts-cookie.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til cookies.</li>
								</ul>
							</li>
							<li><em>custom/skts-general-forms.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til form elementerne.</li>
								</ul>
							</li>
							<li><em>custom/skts-header-items.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til elementer i header (<code>.skts-top-search, .skts-logo, .skts-login</code>.</li>
								</ul>
							</li>
							<li><em>custom/skts-icons.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til ikonerne.</li>
								</ul>
							</li>
							<li><em>custom/skts-loader.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til loading (spinner og evt. besked).</li>
								</ul>
							</li>
							<li><em>custom/skts-tables.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til tabeller.</li>
								</ul>
							</li>
							<li><em>custom/skts-wizard.less</em>
								<ul>
									<li>Custom klasser (<code>skts-*</code>) til elementer i en <code>.skts-wizard</code>.</li>
								</ul>
							</li>
						</ul>
						<hr/>
						<h2 class="h2--guide" id="subJs">JavaScript</h2>
						<p>JavaScript er styret af <em>skat.min.js</em> som inkluderes i bunden af siden sammen med JQuery:</p>
<pre class="prettyprint linenums">
&lt;script&nbsp;src=&quot;../js/vendor/jquery-3.2.1.min.js&quot;&gt;&lt;/script&gt;
&lt;script&nbsp;src=&quot;../js/skat.min.js&quot;&gt;&lt;/script&gt;</pre>
						<p><em>skat.min.js</em> er en kompileret og komprimeret fil som indeholder alle js filer fra bootstrap, samt:</p>
						<ul>
							<li><em>main.js</em> - brugerdefineret kode</li>
							<li><em>plugins.js</em> - eksterne plugins</li>
							<li><em>TastSelvMain.js</em> - legacy kode fra TastSelv</li>
							<li><em>valinput.js</em> - legacy kode fra TastSelv</li>
						</ul>
						<p>Der er to typer gobale variabler: <code>appTexts.*</code> og <code>appVars.*</code>.</p>
						<p>Alle variabler sættes globalt i <em>main.js</em> eller overskrives lokalt på siden.</p>
						<hr/>
						<h2 class="h2--guide" id="subGrunt">Grunt</h2>
						<p>Alle projekter opbygges med <a href="http://gruntjs.com/getting-started" target="_blank">grunt</a>.</p>
						<p>Standard løsningen er placerert i mappen <em>Projects/Assets</em>.</p>
						<p>Projekterne ligger i mappen <em>Projects</em> og deployes til enten til mappen <em>dist</em> eller <em>dev</em>.</p>
						<p>Projektet bygges til produktion med <code>grunt dist</code> i CMD prompt. Flow til dist er følgende:</p>
						<ul>
							<li>Js filerene sammenlægges til en fil (undtagen de filer som er i mapperne <em>supplemental</em> og <em>vendor</em>)</li>
							<li>Alle js filer kopieres til <em>dist/js</em> mappen og bliver minificeret (undermappen <em>vendor</em> tages med imens alle filer i mappen <em>supplemental</em> placeres i roden af <em>dist/js</em> mappen)</li>
							<li>Less filerne sammenlægges til en CSS fil (undtagen de filer som er i mappen <em>themes</em>)</li>
							<li>Less filler i mappen <em>themes</em> konverteres til CSS filer enkeltvis</li>
							<li>Alle CSS filer kopieres til <em>dist/css</em> mappen og minificeres</li>
							<li>Alle filer i mapperne <em>html</em>, <em>font</em> og <em>images</em> kopieres til <em>dist</em> mappen</li>
						</ul>
						<p>Projektet kan også bygges til udvikling med <code>grunt dev</code> i CMD prompt. Flow til dist er følgende:</p>
						<ul>
							<li>Js filerene sammenlægges til en fil (undtagen de filer som er i mapperne <em>supplemental</em> og <em>vendor</em>)</li>
							<li>Alle js filer kopieres til <em>dev/js</em> mappen (undermappen <em>vendor</em> tages med, imens alle filer i mappen <em>supplemental</em> placeres i roden af <em>dev/js</em> mappen)</li>
							<li>Less filerne sammenlægges til en CSS fil (undtagen de filer, som er i mappen <em>themes</em>)</li>
							<li>Less filer i mappen <em>themes</em> konverteres til CSS filer enkeltvis</li>
							<li>Alle CSS filer kopieres til <em>dev/css</em> mappen</li>
							<li>En CSS source map fil generes til den sammensatte CSS fil. Dette giver nemmere mulighed for debugging af styles. Husk at denne funktion skal slås til i Google Chrome under settings i developer tools ("Enable CSS source maps")</li>
							<li>Alle filer i mapperne <em>html</em>, <em>font</em> og <em>images</em> kopieres til <em>dev</em> mappen</li>
						</ul>
						<p>Før en fil rettes eller tilføjes til et projekt, er det en god idé at starte projektet som et site ved at skrive <code>grunt bs</code> i CMD prompt. URL'en på sitet kan bruges i flere browsers og er i sync. <code>grunt bs</code> starter også en <code>grunt watch</code> opgave, som sætter <code>grunt dev</code> flow i gang, hver gang en fil(html, js, less eller font) rettes eller tilføjes (CMD prompt skal ikke lukkes).</p>
						<p>Html filer valideres med <code>grunt validate-html</code>.</p>
						<hr/>
						<h2 class="h2--guide" id="subProjects">Tilføj projekt</h2>
						<p>Et projekt kan tilføjes under mappen <em>Projects</em>.</p>
						<p>Alle js filer tilføjet under <em>Projects\Assets\js\supplemental</em> bygges separat (minified og normalt) i <em>dist/Assets/js</em> mappen.</p>
						<p>Alle less filer tilføjet under <em>Projects\Assets\less\themes</em> bygges separat (minified og normalt) i <em>dist/Assets/css</em> mappen.</p>
						<p>OBS: De færdigbyggede css og js filer er <strong>ikke</strong> inkluderet i et projekts HTML. Det skal man selv indsætte.</p>
						<p>Når et projekt oprettes er det en god idé at tilføje de processer som kræves til <em>Gruntfile.js</em>:</p>
						<p><code>copy</code> - Projekt filerne <strong>og</strong> assets kopieres til <em>dist/NY_PROJEKT</em>. <code>copy</code> findes allerede og skal udvides.</p>

						<p><code>watch</code> - Projekt filerne kopieres til <em>dist/NY_PROJEKT</em> og assets kopieres til alle projekter hvis de bliver rettet. <code>watch</code> findes allerede og skal udvides.</p>
<pre class="prettyprint linenums">
watch: {
  js: {
    files: 'Projects/Assets/js/**/*.js',
    tasks: ['jshint:src', 'concat:bootstrap_dev', 'newer:copy:assets_prototypes_dev', 'newer:copy:assets_htmlguide', 'newer:copy:assets_NY_PROJEKT']
  },
  fonts: {
    files: 'Projects/Assets/fonts/**',
    tasks: ['newer:copy:fonts_dev', 'newer:copy:assets_htmlguide', 'newer:copy:assets_prototypes_dev', 'newer:copy:assets_NY_PROJEKT']
  },
  images: {
    files: 'Projects/Assets/images/**',
    tasks: ['newer:copy:images_dev', 'newer:copy:assets_htmlguide', 'newer:copy:assets_prototypes_dev', 'newer:copy:assets_NY_PROJEKT']
  },
  less: {
    files: 'Projects/Assets/less/**/*.less',
    tasks: [less:compileCore_dev', 'less:compileThemes_dev', 'newer:copy:assets_htmlguide', 'newer:copy:assets_prototypes_dev', 'newer:copy:assets_NY_PROJEKT']
  },	 
  NY_PROJEKT: {
    files: ['Projects/NY_PROJEKT/**/*'],
    tasks: 'newer:copy:NY_PROJEKT'
  }
</pre>
						<p><code>registerTask</code> - Til en ren opbygning af projektet. 
						Den genbygger <em>Projects/Assets</em>, sletter <em>dist/NY_PROJEKT</em> mappen, kopierer alle filer fra <em>Projects/NY_PROJEKT</em> til <em>dist/NY_PROJEKT</em> og kopierer alle filer fra <em>Projects/Assets</em> til <em>dist/NY_PROJEKT/</em></p>
<pre class="prettyprint linenums">
grunt.registerTask('NY_PROJEKT', [
  'assets',
  'clean:NY_PROJEKT', 
  'copy:NY_PROJEKT', 
  'copy:assets_NY_PROJEKT'
]);
</pre>
		                <hr/>
						<h2>Læs mere</h2>
						<div class="well skts-nav-bottom">
		                    <ul class="nav">
		                        <li><a href="udvikling-elementer.html">HTML-guide</a></li>
								<li><a href="udvikling-addons.html">Addons</a></li>
		                        <li><a href="krav-teknisk.html">Tekniske krav</a></li>
		                    </ul>
		                </div>
		            </div>
					<div class="col-md-4">
						<div class="skts-nav-guide hidden-xs hidden-sm skts-top-pad-1">
							<h2>Framework udvikling</h2>
							<ul class="nav">
								<li><a href="#subMethods">Metoder</a></li>
								<li><a href="#subHeader">Elementer i head</a></li>
								<li><a href="#subCss">CSS</a></li>	
								<li><a href="#subJs">JavaScript</a></li>
								<li><a href="#subGrunt">Grunt</a></li>
								<li><a href="#subProjects">Tilføj projekter</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>

            <div class="skts-push"></div>
        </div>
		<footer>
            <div class="row">
                <div class="col-sm-4 text-left hidden-xs" >
                    <div class="skts-logo-small"><span class="sr-only">SKAT logo</span></div>
                </div>
                <div class="col-sm-4 text-center">
                    <a href="https://www.skat.dk/SKAT.aspx?oId=967" target="_blank">Kontakt SKAT</a>
                </div>
                <div class="col-sm-4 text-right hidden-xs"> 
                    <a target="_blank" href="https://www.skat.dk/SKAT.aspx?oId=1617453&amp;layout=353121">Om cookies<span class="sr-only"> Åbner nyt vindue</span></a>
                </div>
            </div>
        </footer>
		<script src="sktscommon/js/vendor/jquery-3.2.1.min.js"></script>
		<script src="sktscommon/js/skat.min.js"></script>
		<script src="sktscommon/js/prototype-workflows.min.js"></script>
		<!--ADDED FOR GUIDE PURPOSES ONLY -->
		<script src="assets/js/prettify.js"></script>
		<script src="assets/js/guide.js"></script>
	</body>
</html>